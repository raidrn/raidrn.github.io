<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Processing Demo</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>FLAPPY BIRD | HALLOWEEN EDITION</h1>
    <p>test</p>
    
    <script type="text/processing">
    
PImage bg, ghost, upPipe, downPipe;
int bgx, bgy, gx, gy, g, Vgy;
int[] pipeX,pipeY; //DECLARE two arrays

void setup() {
  size(800, 800);
  bg = loadImage("./img/bg.png");
  ghost = loadImage("./img/ghost.png");
  downPipe = loadImage("./img/downPipe.png");  // ADD THESE IN
  upPipe = loadImage("./img/upPipe.png");         // ADD THESE IN
  gx = 100;
  gy = 50;
  g = 1; //Gravity == Speed of downward acceleration
  pipeX = new int[5];  //[0,0,0,0]
  pipeY = new int[pipeX.length];
  //POPULATE THE ARRAY WITH VALUES
  for(int i = 0; i < pipeX.length; i++){
    pipeX[i] = width + 200*i;
    pipeY[i] = (int)random(-350, 0);
  }
}

//MAIN GAME LOOP
void draw() {
  bgd();
  ghosti();

  for(int i = 0; i < pipeX.length; i++){
    image(upPipe, pipeX[i], pipeY[i]);
    image(downPipe, pipeX[i], pipeY[i] + 600);
    pipeX[i]-= 2;
    if(pipeX[i] < -200){
      pipeX[i] = width;
    }
  }
}

void ghosti() {
  image(ghost, gx, gy);
  gy = gy + Vgy;
  Vgy = Vgy + g;
}

void mousePressed() { //Ghost Jump
  Vgy = -15;
}

void bgd() { //Background Image
  image(bg, bgx, bgy);
  image(bg, bgx + bg.width, bgy);
  bgx = bgx -2; //Speed of the background

  if (bgx < -bg.width) {
    bgx = 0;    //If statement made to make background repeat till death
  }
}
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>
